#!/bin/sh
:;#-*- mode: emacs-lisp; lexical-binding: t -*-

:;test -n "$EMACS" || EMACS=emacs
:;test -n "$CASK_EMACS" && EMACS=$CASK_EMACS
:;exec "$EMACS" -batch -Q -l "$0" -- "$@"

;;; thelpa-build --- Build and publish Thornjad's Emacs Lisp Package Archive
;;
;;; Commentary:
;;
;; This is the command-line utility script to build ThELPA from stored recipes.
;; See thelpa.el for license and other information.
;;

(require 'thelpa)
(require 'commander)

;;; Code:

(commander
 (name "ThELPA Build")
 (description "ThELPA build utility")
 (default commander-print-usage-and-exit)
 (option "--help, -h" "Show usage information and exit" commander-print-usage-and-exit)

 (command "update" "Update and commit archive" thelpa-update)
 (command "build" "Update archive without committing them" thelpa-build)
 (command "commit" "Commit archive" thelpa-commit))

;;; thelpa-build ends here
